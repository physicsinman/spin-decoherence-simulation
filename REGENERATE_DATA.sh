#!/bin/bash
# B_rms 값 변경 (50 μT → 0.57 μT)에 따른 데이터 재생성 스크립트

echo "================================================================"
echo "B_rms 값 변경에 따른 전체 데이터 재생성"
echo "================================================================"
echo ""
echo "변경 사항:"
echo "  - B_rms: 50 μT → 0.57 μT (물리학적으로 올바른 값)"
echo "  - 모든 시뮬레이션 데이터 재생성 필요"
echo ""
echo "예상 소요 시간:"
echo "  - FID sweep: ~3-4 hours"
echo "  - Echo sweep: ~4-6 hours"
echo "  - Representative curves: ~1 hour"
echo "  - 총 예상 시간: ~8-11 hours"
echo ""
read -p "계속하시겠습니까? (y/n) " -n 1 -r
echo
if [[ ! $REPLY =~ ^[Yy]$ ]]
then
    exit 1
fi

echo ""
echo "================================================================"
echo "1. FID Full Sweep 재생성"
echo "================================================================"
python3 sim_fid_sweep.py

echo ""
echo "================================================================"
echo "2. Echo Full Sweep 재생성"
echo "================================================================"
python3 sim_echo_sweep.py

echo ""
echo "================================================================"
echo "3. FID Representative Curves 재생성"
echo "================================================================"
python3 sim_fid_curves.py

echo ""
echo "================================================================"
echo "4. Echo Representative Curves 재생성"
echo "================================================================"
python3 sim_echo_curves.py

echo ""
echo "================================================================"
echo "5. Echo Gain 분석"
echo "================================================================"
python3 analyze_echo_gain.py

echo ""
echo "================================================================"
echo "6. 모든 그래프 재생성"
echo "================================================================"
python3 plot_all_figures.py

echo ""
echo "================================================================"
echo "✅ 모든 데이터 재생성 완료!"
echo "================================================================"

